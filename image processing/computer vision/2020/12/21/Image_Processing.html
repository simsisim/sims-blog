<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Image Processing Dense Array, JPEG, PNG | Sim’s Jupyter Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Image Processing Dense Array, JPEG, PNG" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this post, we will cover the basics of working with images in Matplotlib, OpenCV and Keras." />
<meta property="og:description" content="In this post, we will cover the basics of working with images in Matplotlib, OpenCV and Keras." />
<link rel="canonical" href="https://simsisim.github.io/sims-blog/image%20processing/computer%20vision/2020/12/21/Image_Processing.html" />
<meta property="og:url" content="https://simsisim.github.io/sims-blog/image%20processing/computer%20vision/2020/12/21/Image_Processing.html" />
<meta property="og:site_name" content="Sim’s Jupyter Blog" />
<meta property="og:image" content="https://simsisim.github.io/sims-blog/images/freedom.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-21T00:00:00-06:00" />
<script type="application/ld+json">
{"description":"In this post, we will cover the basics of working with images in Matplotlib, OpenCV and Keras.","url":"https://simsisim.github.io/sims-blog/image%20processing/computer%20vision/2020/12/21/Image_Processing.html","@type":"BlogPosting","headline":"Image Processing Dense Array, JPEG, PNG","dateModified":"2020-12-21T00:00:00-06:00","datePublished":"2020-12-21T00:00:00-06:00","image":"https://simsisim.github.io/sims-blog/images/freedom.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://simsisim.github.io/sims-blog/image%20processing/computer%20vision/2020/12/21/Image_Processing.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/sims-blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://simsisim.github.io/sims-blog/feed.xml" title="Sim's Jupyter Blog" /><link rel="shortcut icon" type="image/x-icon" href="/sims-blog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/sims-blog/">Sim&#39;s Jupyter Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/sims-blog/about/">About Me</a><a class="page-link" href="/sims-blog/search/">Search</a><a class="page-link" href="/sims-blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Image Processing Dense Array, JPEG, PNG</h1><p class="page-description">In this post, we will cover the basics of working with images in Matplotlib, OpenCV and Keras.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-12-21T00:00:00-06:00" itemprop="datePublished">
        Dec 21, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/sims-blog/categories/#Image Processing">Image Processing</a>
        &nbsp;
      
        <a class="category-tags-link" href="/sims-blog/categories/#Computer Vision">Computer Vision</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/simsisim/sims-blog/tree/master/_notebooks/2020-12-21-Image_Processing.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/sims-blog/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/simsisim/sims-blog/master?filepath=_notebooks%2F2020-12-21-Image_Processing.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/sims-blog/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/simsisim/sims-blog/blob/master/_notebooks/2020-12-21-Image_Processing.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/sims-blog/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#1.-Load-image-files-(.jpg,-.png,-.bmp,-.tif)">1. Load image files (.jpg, .png, .bmp, .tif) </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Load-image-using-Matplotlib">Load image using Matplotlib </a></li>
<li class="toc-entry toc-h4"><a href="#Load-image-using-OpenCV">Load image using OpenCV </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#2.-Image-Processing">2. Image Processing </a>
<ul>
<li class="toc-entry toc-h4"><a href="#JPG-format">JPG format </a></li>
<li class="toc-entry toc-h4"><a href="#PNG-format">PNG format </a></li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-12-21-Image_Processing.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Images are dense matrixes, and have a certain numbers of rows and columns. They can have 1 (grey) or 3 (RGB) or 4 (RGB + alpha-transparency) channels.</p>
<p>The dimension of the image matrix is ( height, width, channels).</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">getsizeof</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="1.-Load-image-files-(.jpg,-.png,-.bmp,-.tif)">
<a class="anchor" href="#1.-Load-image-files-(.jpg,-.png,-.bmp,-.tif)" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Load image files (<em>.jpg, </em>.png, <em>.bmp, </em>.tif)<a class="anchor-link" href="#1.-Load-image-files-(.jpg,-.png,-.bmp,-.tif)"> </a>
</h1>
<ul>
<li><del>using PIL</del></li>
<li>using matplotlib: reads image as RGB</li>
<li>using cv2 :  reads image as BRG</li>
</ul>
<ul>
<li>imread: reads a file from disk and decodes it</li>
<li>imsave: encodes a image and writes it to a file on disk  </li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#image = Image.open("images/freedom.png")</span>
<span class="c1">#plt.show(image)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Load-image-using-Matplotlib">
<a class="anchor" href="#Load-image-using-Matplotlib" aria-hidden="true"><span class="octicon octicon-link"></span></a>Load image using Matplotlib<a class="anchor-link" href="#Load-image-using-Matplotlib"> </a>
</h4>
<p>The Matplotlib image tutorial recommends using matplotlib.image.imread to read image formats from disk. This function will automatically change image array values to floats between zero and one, and it doesn't give any other options about how to read the image.</p>
<ul>
<li>imshow works on 0-1 floats &amp; 0-255 uint8 values</li>
<li>It doesn't work on int!</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">"images/freedom.png"</span><span class="p">)</span>
<span class="c1">#plt.imshow(image)</span>
<span class="c1">#plt.colorbar()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Load-image-using-OpenCV">
<a class="anchor" href="#Load-image-using-OpenCV" aria-hidden="true"><span class="octicon octicon-link"></span></a>Load image using OpenCV<a class="anchor-link" href="#Load-image-using-OpenCV"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="2.-Image-Processing">
<a class="anchor" href="#2.-Image-Processing" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Image Processing<a class="anchor-link" href="#2.-Image-Processing"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Storing one pixels takes several bytes.There are two main options for saving images: whether to lose some information while saving, or not.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="JPG-format">
<a class="anchor" href="#JPG-format" aria-hidden="true"><span class="octicon octicon-link"></span></a>JPG format<a class="anchor-link" href="#JPG-format"> </a>
</h4>
<ul>
<li>
<p>JPEG is lossy by deflaut</p>
</li>
<li>
<p>When saving an image as $*$.JPEG and read from it again, it is not necessary to get back the same values</p>
</li>
<li>
<p>The "image04_jpg.jpg" has 6.3 kB, less than the 7\% of $*$.npy file that generated it</p>
</li>
<li>
<p>cv2.IMWRITE_JPEG_QUALITY  is between (0, 100), and allows to save losseless</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="PNG-format">
<a class="anchor" href="#PNG-format" aria-hidden="true"><span class="octicon octicon-link"></span></a>PNG format<a class="anchor-link" href="#PNG-format"> </a>
</h4>
<ul>
<li>
<p>PNG is lossless</p>
</li>
<li>
<p>When saving an image as $*$.PNG and read from it again one gets the same value backs</p>
</li>
<li>
<p>cv2.IMWRITE_PNG_COMPRESSION is between (0, 1): bigger file, slower compression</p>
</li>
<li>
<p>freedom_png.png = 721.8 kB, close to freedomnpy</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>References:</p>
<p><a href="https://planspace.org/20170403-images_and_tfrecords/">https://planspace.org/20170403-images_and_tfrecords/</a></p>
<p><a href="https://subscription.packtpub.com/book/application_development/9781788474443/1/ch01lvl1sec14/saving-images-using-lossy-and-lossless-compression">https://subscription.packtpub.com/book/application_development/9781788474443/1/ch01lvl1sec14/saving-images-using-lossy-and-lossless-compression</a></p>
<p><a href="https://www.tensorflow.org/tutorials/load_data/tfrecord">https://www.tensorflow.org/tutorials/load_data/tfrecord</a></p>
<p><a href="https://machinelearningmastery.com/how-to-load-convert-and-save-images-with-the-keras-api/">https://machinelearningmastery.com/how-to-load-convert-and-save-images-with-the-keras-api/</a></p>

</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="simsisim/sims-blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/sims-blog/image%20processing/computer%20vision/2020/12/21/Image_Processing.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/sims-blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/sims-blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/sims-blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/simsisim" title="simsisim"><svg class="svg-icon grey"><use xlink:href="/sims-blog/assets/minima-social-icons.svg#github"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
